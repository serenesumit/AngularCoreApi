<!-- <p>
   eligibilityreactive works!
</p> -->

<div class="container" style="padding-top: 260px;">
  <form [formGroup]="eligibilityFrm" class="form-horizontal" (ngSubmit)="onSubmit(eligibilityFrm)">
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">Register Voter</h3>
      </div>
      <div class="panel-body">
        <!-- <div class="form-group">
          <mat-radio-group class="contact-radio-group" formControlName="IsCitizen" >
              <label class="col-md-3 control-label" for="IsCitizen">Are you a USA citizen?</label>
              <mat-radio-button class="contact-radio-button" *ngFor="let citizen of citizens" [value]="citizen.id">
                {{ citizen.name }}
              </mat-radio-button>
            </mat-radio-group>
            <mat-error *ngIf="formErrors.IsCitizen">
              {{ formErrors.IsCitizen }}
            </mat-error>
            </div> -->


        <div>
          <tabset #staticTabs>

            <br />
            <alert type="info">
              <strong>Attention!</strong> This site requires cookies to be enabled. Cookies are necessary for full
              functionality and allow for the best user experience.
              Cookie control is handled through your individual browser. Refer to your browser or device help material
              to adjust cookie usage.
            </alert>

            <tab heading="Step1" [disabled]="true">
                <alert *ngIf="isStep1Valid" type="danger">
                    You have checked one or more field that make you ineligible to register. Please contact your county Supervisor of Elections.
                  </alert>
              <div class="form-group" [ngClass]="{'has-error' : formErrors.IsCitizen}">
                <label class="col-md-3 control-label" for="IsCitizen">Are you a USA citizen?</label>
                <div class="col-md-4">
                  <label class="radio-inline">
                    <input id="IsCitizen" type="radio" value="1" formControlName="IsCitizen" (blur)="logValidationErrors()">Yes
                  </label>
                  <label class="radio-inline">
                    <input id="IsCitizen" type="radio" value="0" formControlName="IsCitizen" (blur)="logValidationErrors()">No
                  </label>
                  <span class="help-block" *ngIf="formErrors.IsCitizen">
                    {{formErrors.IsCitizen}}
                  </span>
                </div>
              </div>
              <div class="form-group" [ngClass]="{'has-error' : formErrors.IsFelon}">
                <label class="col-md-3 control-label" for="IsFelon">I am not a convicted felon</label>
                <div class="col-md-8">
                  <label class="radio-inline">
                    <input name="IsFelon" type="radio" value="1" formControlName="IsFelon" (blur)="logValidationErrors()">Yes
                  </label>
                  <label class="radio-inline">
                    <input name="IsFelon" type="radio" value="0" formControlName="IsFelon" (blur)="logValidationErrors()">No
                  </label>
                  <span class="help-block" *ngIf="formErrors.IsFelon">
                    {{formErrors.IsFelon}}
                  </span>
                </div>
              </div>
              <div class="form-group" [ngClass]="{'has-error' : formErrors.IsMentalIncomp}">
                <label class="col-md-3 control-label" for="IsMentalIncomp">I have not been adjudicated mentally
                  incapacitated</label>
                <div class="col-md-8">
                  <label class="radio-inline">
                    <input name="IsMentalIncomp" id="IsMentalIncomp" type="radio" value="1" formControlName="IsMentalIncomp"
                      (blur)="logValidationErrors()">Yes
                  </label>
                  <label class="radio-inline">
                    <input name="IsMentalIncomp" id="IsMentalIncomp" type="radio" value="0" formControlName="IsMentalIncomp"
                      (blur)="logValidationErrors()">No
                  </label>
                  <span class="help-block" *ngIf="formErrors.IsMentalIncomp">
                    {{formErrors.IsMentalIncomp}}
                  </span>
                </div>
              </div>

            </tab>
            <tab heading="Step2" [disabled]="true">
                <alert *ngIf="isStep2Valid" type="danger">
                    You have checked one or more field that make you ineligible to register. Please contact your county Supervisor of Elections.
                  </alert>
              <div class="form-group" id="div1">
                <div class="col-md-1"></div>
                <div class="col-md-11">
                  <label>
                    <input name="NewRegistration" id="NewRegistration" [attr.disabled]="isNewRegistration == true ? true : null"
                      type="checkbox" (change)="setNewRegistrationStatus()" formControlName="NewRegistration"> New
                    Registration
                  </label>
                </div>
              </div>
              <div id="div2">
                <div class="form-group">
                  <div class="col-md-1"></div>
                  <div class="col-md-11">
                    <label>
                      <input name="RecordUpdate" id="RecordUpdate" [attr.disabled]="isNewrecordUpdate == true ? true : null"
                        type="checkbox" (change)="setNewRegistrationStatusFalse()" formControlName="RecordUpdate">
                      Record Update/Change (e.g., Address, Party Affiliation, Name, Signature)
                    </label>
                  </div>
                </div>
                <div class="form-group">
                  <div class="col-md-1"></div>
                  <div class="col-md-11">
                    <label>
                      <input name="RequesttoReplace" [attr.disabled]="isNewrecordUpdate == true ? true : null" id="RequesttoReplace"
                        (change)="setNewRegistrationStatusFalse()" type="checkbox" formControlName="RequesttoReplace">
                      Request to Replace Voter Information Card
                    </label>
                  </div>
                </div>
              </div>

              <div class="form-group" [ngClass]="{'has-error' : formErrors.DLNumber}">
                <label class="col-sm-2 control-label" for="DLNumber">DL Number</label>
                <div class="col-sm-8">
                  <input id="DLNumber" type="text" class="form-control" formControlName="DLNumber" (blur)="logValidationErrors()"
                    [patterns]="DLPattern" mask="A000-000-00-000-0">
                  <span class="help-block" *ngIf="formErrors.DLNumber">
                    {{formErrors.DLNumber}}
                  </span>
                </div>
              </div>

              <!-- <div [hidden]="!eligibilityFrm.controls.LastSSN.valid">
                                      <div class="form-group" [ngClass]="{'has-error' : formErrors.LastName}">
                                          <label class="col-sm-2 control-label" for="LastName">Last Name</label>
                                          <div class="col-sm-8">
                                            <input id="LastName" type="text" class="form-control" formControlName="LastName" (blur)="logValidationErrors()">
                                            <span class="help-block" *ngIf="formErrors.LastName">
                                              {{formErrors.LastName}}
                                            </span>
                                          </div>
                                        </div>
                                    Hello from div, Last SSN is Valid
                                  </div> -->

              <div class="form-group" [ngClass]="{'has-error' : formErrors.LastSSN}">
                <label class="col-sm-2 control-label" for="LastSSN">Last SSN</label>
                <div class="col-sm-8">
                  <input name="LastSSN" id="LastSSN" type="text" class="form-control" formControlName="LastSSN" (blur)="logValidationErrors()"
                    [patterns]="SSNPattern" mask="0000">
                  <span class="help-block" *ngIf="formErrors.LastSSN">
                    {{formErrors.LastSSN}}
                  </span>
                </div>
              </div>

              <div class="form-group" [ngClass]="{'has-error' : formErrors.LastName}">
                <label class="col-sm-2 control-label" for="LastName">Last Name</label>
                <div class="col-sm-8">
                  <input id="LastName" type="text" class="form-control" formControlName="LastName" (blur)="logValidationErrors()">
                  <span class="help-block" *ngIf="formErrors.LastName">
                    {{formErrors.LastName}}
                  </span>
                </div>
              </div>
              <div class="form-group" [ngClass]="{'has-error' : formErrors.FirstName}">
                <label class="col-sm-2 control-label" for="FirstName">First Name </label>
                <div class="col-sm-8">
                  <input id="FirstName" type="text" class="form-control" formControlName="FirstName" (blur)="logValidationErrors()">
                  <span class="help-block" *ngIf="formErrors.FirstName">
                    {{formErrors.FirstName}}
                  </span>
                </div>
              </div>
              <div class="form-group" [ngClass]="{'has-error' : formErrors.MiddleName}">
                <label class="col-sm-2 control-label" for="MiddleName">Middle Name </label>
                <div class="col-sm-8">
                  <input id="MiddleName" type="text" class="form-control" formControlName="MiddleName" (blur)="logValidationErrors()">
                  <span class="help-block" *ngIf="formErrors.MiddleName">
                    {{formErrors.MiddleName}}
                  </span>
                </div>
              </div>

              <div class="form-group">
                <label class="col-sm-2 control-label" for="Dob">Date of Birth </label>
                <mat-form-field appearance="outline" class="col-sm-8">
                  <input matInput [matDatepicker]="picker" placeholder="Date of Birth" formControlName="Dob">
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>
                  <!-- <mat-error *ngIf="formErrors.Dob ">
                                          {{ formErrors.Dob }}
                                        </mat-error> -->
                  <mat-error style="color:#a94442; font-size: 14px;">
                    Date of birth is required
                  </mat-error>
                </mat-form-field>
              </div>
            
              <div class="form-group" id="div4">
                  <div class="col-md-1"></div>
                  <div class="col-md-11">
                      <re-captcha  (resolved)="resolvedCaptcha($event)" [siteKey]="RecaptaSiteKey"></re-captcha>                      
                  </div>
                </div>

             
            </tab>
            <tab heading="Step3" [disabled]="true">
                <div class="">
                    <div class="panel panel-default col-lg-12 col-md-12 col-sm-12 col-xs-12">
                      <div class="panel-body">
                        <div style="text-align:center;">
                          <h4><strong>Review Page</strong></h4>
                        </div>
                  
                        <h3>Personal Identification Information</h3>
                        <hr style="border-color:black;" />
                        <fieldset disabled>
                          <div class="row">
                            <table class="table table-bordered" role="presentation">
                              <tbody>
                                <tr>
                                  <td
                                    colspan="2"
                                    style="border: 0px solid #ffffff; font-weight:bold"
                                  >
                                    <span class="glyphicon glyphicon-check"
                                      ></span
                                    > NewRegistration
                                  </td>
                                </tr>
                                <tr>
                                  <td
                                    colspan="2"
                                    style="border: 0px solid #ffffff; font-weight:bold"
                                  >
                                    <span class="glyphicon glyphicon-check"
                                      ></span
                                    >
                                     RecordUpdateOrChange
                                  </td>
                                </tr>
                                <tr>
                                  <td
                                    colspan="2"
                                    style="border: 0px solid #ffffff; font-weight:bold"
                                  >
                                    <span class="glyphicon glyphicon-check"
                                      ></span
                                    >
                                     RequesttoReplace
                                  </td>
                                </tr>
                                <tr>
                                  <td>
                                    <div class=".col-xs-6 .col-sm-4">
                                      <!-- <b>Florida DL or Florida ID card number: </b> {{ getcustomer.DLNumber }} -->
                                    </div>
                                  </td>
                  
                                  <td>
                                    <div class=".col-xs-6 .col-sm-4">
                                      <!-- <b>Florida DL Issued Date: </b> {{ getcustomer.IssueDate }} -->
                                    </div>
                                  </td>
                                </tr>
                                <tr>
                                  <td>
                                    <div class=".col-xs-6 .col-sm-4">
                                      <!-- <b>Last 4 digits of your Social Security Number: </b> {{ getcustomer.LastSSN }} -->
                                    </div>
                                  </td>
                  
                                  <td>
                                    <!-- <div class=".col-xs-6 .col-sm-4"><b>Date of Birth:</b> {{ getcustomer.Dob | date }}</div> -->
                                  </td>
                                </tr>
                                <tr>
                                  <td>
                                    <!-- <div class=".col-xs-6 .col-sm-4"><b>LastName:</b> {{ getcustomer.LastName }}</div> -->
                                  </td>
                                  <td>
                                    <!-- <div class=".col-xs-6 .col-sm-4"><b>FirstName:</b> {{ getcustomer.FirstName }}</div> -->
                                  </td>
                                </tr>
                                <tr>
                                  <td>
                                    <!-- <div class=".col-xs-6 .col-sm-4"><b>MiddleName:</b> {{ getcustomer.MiddleName }}</div> -->
                                  </td>
                                  <td>
                                    <div class=".col-xs-6 .col-sm-4"><b>Suffix: </b></div>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </fieldset>
                                      
                      </div>
                    </div>
                  </div>
                  


            </tab>
          </tabset>
        </div>









        <!-- <div class="form-group" [ngClass]="{'has-error' : formErrors.Dob}">
              <label class="col-sm-2 control-label" for="Dob">Date of Birth </label>
              <div class="col-sm-8">
          <div class="input-group date" data-provide="datepicker">
            <input id="Dob" bsDatepicker class="form-control" [bsConfig]="{ dateInputFormat: 'YYYY-MM-DD' }">
            <input id="Dob" bsDatepicker class="form-control">
            <div class="input-group-addon">
                <span class="glyphicon glyphicon-th"></span>
            </div>
            <span class="help-block" *ngIf="formErrors.Dob">
                {{formErrors.Dob}}
                </span>
          </div>
        </div>
        </div> -->


        <!-- <div class="form-group" [ngClass]="{'has-error' : formErrors.proficiency}">
              <label class="col-md-2 control-label">Proficiency</label>
              <div class="col-md-8">
                <label class="radio-inline">
                  <input id="proficiency" type="radio" value="beginner"
                         formControlName="proficiency" (blur)="logValidationErrors()">Beginner
                </label>
                <label class="radio-inline">
                  <input id="proficiency" type="radio" value="intermediate"
                         formControlName="proficiency" (blur)="logValidationErrors()">Intermediate
                </label>
                <label class="radio-inline">
                  <input id="proficiency" type="radio" value="advanced"
                         formControlName="proficiency" (blur)="logValidationErrors()">Advanced
                </label>
                <span class="help-block" *ngIf="formErrors.proficiency">
                  {{formErrors.proficiency}}
                  </span>
              </div>
            </div> -->

      </div>
      <div class="panel-footer">
        <div class="btn-toolbar">         
          <button class="btn btn-primary pull-right" type="button" *ngIf="showNextButton" (click)="selectTab(pTabId)">Continue</button>
          <button class="btn btn-danger pull-right" type="button" (click)="openModal(template)">Exit</button>

          <button class="btn btn-primary pull-right" *ngIf="!showNextButton" [disabled]="!eligibilityFrm.valid" type="submit"
            (click)="setDefaultValues()">Save</button>
          <!-- <button class="btn btn-primary" type="button"
            (click)="onLoadDataClick()">Load Data</button>-->
        </div>
      </div>      
      <ng-template #template>
        <div class="modal-body text-center">   
          
          
              <h4>Exit Confirmation</h4>
              <hr />
          
          <p>
              
            By exiting this application, you will lose all of the data you entered?</p>
          <button type="button" class="btn btn-default" (click)="confirm()">Yes</button> &nbsp;
          <button type="button" class="btn btn-primary" (click)="decline()">No</button>
        </div>
      </ng-template>
    </div>
  </form>
</div>